# セッション管理の不備

## 脆弱性の説明
セッション管理の不備により、認証済みセッションの盗用や
不正な再利用が可能になる脆弱性です。

## 実装箇所
1. JWT実装 (`backend/internal/middleware/auth.go`)
```go
// トークンの有効期限が長期間
// トークンの再利用が可能
func (m *AuthMiddleware) ValidateToken(token string) (*Claims, error) {
    // ...
}
```

## 確認手順

### トークンの再利用
1. ユーザーAでログイン
2. ネットワークタブでトークンを確認
3. ログアウト
4. 保存したトークンを使用して以下のリクエストを送信:
```bash
curl -H "Authorization: <保存したトークン>" \
     http://localhost:9090/api/posts
```
5. APIにアクセスできることを確認

### 長期間有効なトークン
1. ユーザーAでログイン
2. トークンを保存
3. 数日後に保存したトークンでアクセス
4. トークンが依然として有効であることを確認

## 対策方法
1. トークンの有効期限の適切な設定
2. リフレッシュトークンの実装
3. トークンの無効化機能の実装
4. セッションの定期的な更新
